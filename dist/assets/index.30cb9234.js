const w=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const y of r.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&l(y)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}};w();function g(){return new Worker("/assets/physicsDomWorker.1c4121d6.js",{type:"module"})}let p=!1;const S=()=>{const a=[];let i=0;return document.body.querySelectorAll("[data-physics-type]").forEach(s=>{s.style.transitionDuration="0s";const l=s.getBoundingClientRect();a.push({el:s,x:l.x,y:l.y,width:l.width,height:l.height,domId:i}),i++}),a};let f;async function D(){p=!p;const a=[],i=S();if(!p){if(f){f.terminate();for(const t in i){const n=i[t];n.el.style.transitionDuration="1s",n.el.style.transform=`translate(${0}px, ${0}px) rotate(${0}rad)`}}return}f=new g;const s=(t=0,n=0,o=10,c=10,d={restitution:0})=>{const u={x:t,y:n,width:o,height:c,options:d};f.postMessage({type:"ADD_BODY",data:u})},l=()=>{const t=50;s(window.innerWidth/2,0-t/3,window.innerWidth,t,{isStatic:!0}),s(window.innerWidth/2,window.innerHeight+t/3,window.innerWidth,t,{isStatic:!0}),s(0-t/3,window.innerHeight/2,t,window.innerHeight,{isStatic:!0}),s(window.innerWidth+t/3,window.innerHeight/2,t,window.innerHeight,{isStatic:!0})},e=()=>{const t=document.body.querySelector("cursor");s(window.innerWidth/2,window.innerHeight/2,32,32,{shape:"circle",type:"cursor"});let n={x:0,y:0};window.addEventListener("mousemove",({x:o,y:c})=>{if(t){const d={x:o,y:c},u=Math.sqrt((n.x-d.x)**2+(n.y-d.y)**2);t.style.left=`${o}px`,t.style.top=`${c}px`,u>4&&(n=d,f.postMessage({type:"SYNC_CURSOR",data:{x:o,y:c}}))}})};(()=>{f.addEventListener("message",t=>{if(t.data.type=="BODY_SYNC"){const n=t.data.data;for(const o of a){const{x:c,y:d,rotation:u}=n[o.id];if(o.domId>=0){const h=i[o.domId];h.el.style.transform=`translate(${c-h.x-h.width/2}px, ${d-h.y-h.height/2}px) rotate(${u}rad)`}}}if(t.data.type=="BODY_CREATED"){const{x:n,y:o,width:c,height:d,id:u,domId:h}=t.data.data;a.push({id:u,x:n,y:o,width:c,height:d,angle:0,domId:h})}if(t.data.type=="PHYSICS_LOADED"){l(),e();for(const{x:n,y:o,width:c,height:d,domId:u}of i)s(n+c/2,o+d/2,c,d,{isStatic:!1,domId:u})}})})();let y=performance.now();const m=()=>{y=performance.now(),performance.now()-y,setTimeout(()=>m(),0)};m()}const L=async()=>{const a=document.body.querySelector("#physics-btn");!a||a.addEventListener("click",i=>{D(),p?a.innerHTML="Stop this madness!":a.innerHTML="Let's get physical"})};L();
